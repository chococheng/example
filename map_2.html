<!DOCTYPE html>
<html>
  <head>
    <title>Complex styled maps</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
	  #panel {
        position: absolute;
        top: 5px;
        left: 50%;
        margin-left: -180px;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
    <script>

	var map ;

	var dot_marker = {
		url: 'http://50problems50days.com/img/mapMarkers.png',
		// This marker is 20 pixels wide by 32 pixels tall.
		size: new google.maps.Size(19,19),
		// The origin for this image is 0,0.
		origin: new google.maps.Point(0,148),
		// The anchor for this image is the base of the flagpole at 0,32.
		anchor: new google.maps.Point(9,9)
	};
  
    var spot = [
		new google.maps.LatLng(25.085406,121.561501),        //myschool
		new google.maps.LatLng(24.997338,121.578226),        //myhome
	];
 /* var myLatlng = new google.maps.LatLng(25.085406,121.561501);
	var myHome=new google.maps.LatLng(24.997338,121.578226);
 */ 

 /* var schoolMarker = new google.maps.Marker({
      position: spot[0],
      map: map,
      icon: dot_marker
  });
   var homeMarker = new google.maps.Marker({
      position: spot[1],
      map: map,
      icon: dot_marker
  });
  */
	var markers =new Array();
	
	var iterator = 0;
	function drop() {
		for (var i = 0; i < spot.length; i++) {
			setTimeout(function() {
			addMarker();
			}, i * 200);
			
			
		}
	}
	function addMarker() {
		markers.push(new google.maps.Marker({
			position: spot[iterator],
			map: map,
			draggable: false,
			icon: dot_marker,
			animation: google.maps.Animation.DROP
			}));
		iterator++;
		
		}
	
	var schoolMark=markers[0]

	function initialize() {
		
	
		;
		var roadAtlasStyles = [
		{
		                    featureType: "poi.park",
		                    stylers: [
		                      { hue: "#00d4ff" },
		                      { visibility: "simplified" },
		                      { lightness: 22 }
		                    ]
		                  },{
		                    featureType: "administrative.country",
		                    stylers: [
		                      { visibility: "simplified" }
		                    ]
		                  },{
		                    featureType: "administrative.province",
		                    stylers: [
		                      { visibility: "simplified" }
		                    ]
		                  },{
		                    featureType: "administrative.locality",
		                    stylers: [
		                      { visibility: "off" }
		                    ]
		                  },{
		                    featureType: "water",
		                    stylers: [
		                      { saturation: 43 },
		                      { hue: "#00e5ff" },
		                      { lightness: 84 }
		                    ]
		                  },{
		                  },{
		                    featureType: "landscape",
		                    elementType: "geometry",
		                    stylers: [
		                      { hue: "#00d4ff" },
		                      { lightness: -2 },
		                      { saturation: 36 }
		                    ]
		                  },{
		                    featureType: "road",
		                    stylers: [
		                      { hue: "#00c3ff" },
		                      { lightness: 34 },
		                      { saturation: -41 }
		                    ]
		                  },{
		                    featureType: "administrative.country",
		                    stylers: [
		                      { hue: "#00aaff" },
		                      { saturation: 18 },
		                      { lightness: 30 }
		                    ]
		                  },{
		                    featureType: "poi.attraction",
		                    stylers: [
		                      { hue: "#00bbff" }
		                    ]
		                  },{
		                    featureType: "administrative.province",
		                    stylers: [
		                      { visibility: "off" }
		                    ]
		                  },{
		                    featureType: "road",
		                    elementType: "labels",
		                    stylers: [
		                      { visibility: "off" }
		                    ]
		                  },{
		                    featureType: "road",
		                    elementType: "geometry",
		                    stylers: [
		                      { visibility: "simplified" }
		                    ]
		                  },{
		                    featureType: "transit.station.airport",
		                    stylers: [
		                      { hue: "#00c3ff" },
		                      { saturation: 31 },
		                      { lightness: 39 }
		                    ]
		                  },{
		                    featureType: "poi",
		                    stylers: [
		                      { hue: "#00bbff" },
		                      { saturation: 9 },
		                      { visibility: "on" },
		                      { lightness: 55 }
		                    ]
		                  },{
		                    featureType: "landscape.man_made",
		                    stylers: [
		                      { lightness: 32 }
		                    ]
		                  },{
		                    featureType: "road",
		                    stylers: [
		                      { lightness: 13 }
		                    ]
		                  },{
		                    featureType: "transit.line",
		                    stylers: [
		                      { visibility: "off" }
		                    ]
		                  },{
		                    featureType: "transit.station",
		                    stylers: [
		                      { visibility: "off" }
		                    ]
		                  },{
		                    featureType: "administrative.neighborhood",
		                    stylers: [
		                      { saturation: 17 },
		                      { lightness: 26 },
		                      { hue: "#00b2ff" }
		                    ]
		                  },{
		                    featureType: "landscape.natural",
		                    elementType: "labels",
		                    stylers: [
		                      { visibility: "off" }
		                    ]
		                  }
						  
		];
		//var image = 'http://50problems50days.com/img/mapMarkers.png';
  
		var mapOptions = {
			zoom: 12,
			center: spot[0],
   
			mapTypeControlOptions: {
			mapTypeIds: [google.maps.MapTypeId.ROADMAP, 'usroadatlas']
			}
	
		};
  
		map = new google.maps.Map(document.getElementById('map-canvas'),mapOptions);
  

		// To add the marker to the map, call setMap();
		/*schoolMarker.setMap(map);
		homeMarker.setMap(map);
		*/
		//marker2.setMap(map); 

		var styledMapOptions = {
			name: 'US Road Atlas'
		};

		var usRoadMapType = new google.maps.StyledMapType(roadAtlasStyles, styledMapOptions);

		map.mapTypes.set('usroadatlas', usRoadMapType);
		map.setMapTypeId('usroadatlas');
  
		var flightPlanCoordinates = [
			new google.maps.LatLng(25.085406,121.561501),
			new google.maps.LatLng(24.997338,121.578226),
    
		];
		var flightPath = new google.maps.Polyline({
			path: flightPlanCoordinates,
			geodesic: true,
			strokeColor: '#FF0000',
			strokeOpacity: 1.0,
			strokeWeight: 2
		});

		flightPath.setMap(map);
  
  
		
		
		
		/*function circle(spots,spotPut,latOri,longOri,r){

			for(i=spots;i<=spotPut;i++)
			{
				var ex=Math.cos(2*Math.PI/spotPut*i);
				var ey=Math.sin(2*Math.PI/spotPut*i);
		
				var x=r*ex+latOri;
				var y=r*ey+longOri;
				var myCircle=new Array();
				myCircle[i]=new google.maps.LatLng(x,y);
		
				var circle_dot=new Array();
				circle_dot[i]=new google.maps.Marker({
					position:myCircle[i],
					map: map,
					icon: dot_marker
	  
				});
  
				circle_dot[i].setMap(map);
		
			}

		};	
			
		circle(5,20,25.085406,121.561501,0.01);
		circle(3,10,25.085406,121.561501,0.03);
		circle(10,20,25.085406,121.561501,0.05);
		*/
		
		markers;                                                       //
		google.maps.event.addListener(markers, 'click', function() {
	
		
			circle(5,20,25.085406,121.561501,0.01);
			circle(3,10,25.085406,121.561501,0.03);
			circle(10,20,25.085406,121.561501,0.05);
	
		}) 
 
 
	}
	

	function circle(spots,spotPut,latOri,longOri,r){

			for(i=spots;i<=spotPut;i++)
			{
				var ex=Math.cos(2*Math.PI/spotPut*i);
				var ey=Math.sin(2*Math.PI/spotPut*i);
		
				var x=r*ex+latOri;
				var y=r*ey+longOri;
				var myCircle=new Array();
				myCircle[i]=new google.maps.LatLng(x,y);
		
				var circle_dot=new Array();
				circle_dot[i]=new google.maps.Marker({
					position:myCircle[i],
					map: map,
					icon: dot_marker
	  
				});
  
				circle_dot[i].setMap(map);
		
			}

		}
	
		
	
	
	google.maps.event.addDomListener(window, 'load', initialize);

    </script>
  </head>
  <body>
    <div id="map-canvas"></div>
	<div id="panel" style="margin-left: -52px">
      <button id="drop" onclick="drop()">Drop Markers</button>
     </div>
  </body>
</html>